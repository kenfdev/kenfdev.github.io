---
title: ReactのParentとChildコンポーネントをもう少し考察
author: kenev
layout: post
permalink: /2015/02/26/react%e3%81%aeparent%e3%81%a8child%e3%82%b3%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%8d%e3%83%b3%e3%83%88%e3%82%92%e3%82%82%e3%81%86%e5%b0%91%e3%81%97%e8%80%83%e5%af%9f/
categories:
  - JavaScript
  - React.js
  - Web-dev
tags:
  - component
  - parent-child
  - react
  - react.js
  - this.props.children
---
前回の[Reactでコンポジション][1]にてParentとChildコンポーネントに少し触れましたが、今回はもう少しコードをいじりながら挙動を確かめたいと思います。

コンポーネント内に記述された要素は、そのコンポーネントにて「this.props.children」で取得できるというところがポイントです。また、この「this.props.children」はそのままで使うのではなく、[React.Children][2]にて便利メソッドが用意されているので、使っていくのが良さそうです。  
以下、ParentコンポーネントとChildコンポーネントの挙動をわかりやすくした（つもり）のコードです。

特に最初少し慣れなかった部分は、Childコンポーネントの中に記述しているdivコンポーネントの扱いについてです。一見するとChildコンポーネントの中でこのdivが出力されるかと思うのですが、Childが例えば以下ののコードだけの場合、このdivは出力されません。

<pre class="lang:js decode:true ">var Child = React.createClass({
  render: function() {
    return (
      &lt;div&gt;
        &lt;h2&gt;Child Content Start&lt;/h2&gt;
        &lt;h2&gt;Child Content Ends&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
});</pre>

&nbsp;

ではこのChildコンポーネントに挟まれているdivコンポーネントは何なのかというと、ChildコンポーネントのChildrenなのです(ややこしい表現になってきましたね)。コンポーネントタグの中に記述されたコンポーネントはそのコンポーネントの中でthis.props.childrenとしてアクセスが可能になるのです。よって、このdivはChildコンポーネント内でアクセスして、div要素を出力していることになります。

 [1]: http://kenev.net/ja/2015/02/24/react%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%9d%e3%82%b8%e3%82%b7%e3%83%a7%e3%83%b3/
 [2]: http://facebook.github.io/react/docs/top-level-api.html#react.children