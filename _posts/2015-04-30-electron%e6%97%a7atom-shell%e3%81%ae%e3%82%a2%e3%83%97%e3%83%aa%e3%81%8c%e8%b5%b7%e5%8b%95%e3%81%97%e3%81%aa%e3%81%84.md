---
title: Electron(旧Atom-Shell)のアプリが起動しない
author: kenev
layout: post
permalink: /2015/04/30/electron%e6%97%a7atom-shell%e3%81%ae%e3%82%a2%e3%83%97%e3%83%aa%e3%81%8c%e8%b5%b7%e5%8b%95%e3%81%97%e3%81%aa%e3%81%84/
s4_url2s:
  - 
s4_image2s:
  - 
s4_ctitle:
  - 
s4_cdes:
  - 
categories:
  - Electron(Atom-Shell)
tags:
  - atom-shell
  - electron
  - package.json
---
ちょっとしたGUIのデスクトップアプリを作りたくなったんですが、その為にSwiftを1から勉強するだけの時間が惜しいし、OSXで動かしたかったのでちまたで話題のElectron(旧Atom-Shell)でJavaScriptを使って作ってみることにしました。

作り方は本家の[QuickStart][1]に従えば作れる…はずでしたがつまらない場所でひっかかってしまった。ディレクトリの構成は以下の通り。

<pre><code class="bash">first_app/
├── index.html
├── main.js
└── package.json
</code></pre>

`package.json`を作らないといけなくて、`npm init`で作ればいいやと思い、全部デフォルトで作成したところ、いざ`electron first_app/`を実行してもエラーが出てしまった。

> Error opening app  
> The app provided is not a valid electron app, please read the docs on how to write one:  
> https://github.com/atom/electron/tree/master/docs 

Quick Startなんてほとんどやることないのにどこでミスを犯したのか…と思ったのですが、`package.json`の中身を眺めると

<pre><code class="js">{
  "name": "first_app",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {

  },
  "author": "",
  "license": "ISC"
}
</code></pre>

`"main": "index.js"`って部分がアウトですね。Quick Startのエントリポイントは`main.js`がエントリポイントですから、

<pre><code class="js">{
  "name": "first_app",
  "version": "1.0.0",
  "description": "",
  "main": "main.js",
  "scripts": {

  },
  "author": "",
  "license": "ISC"
}
</code></pre>

が正解。特に考えずにデフォルトで作っちゃうからこうなるんです。もちろん、`main.js`ファイルのファイル名を`index.js`にしてもちゃんと動きますよ。

[<img src="/images/2015/04/b26e2b79cc2e1e669a3abf02127fc96f-1024x799.png" alt="スクリーンショット 2015-04-30 9.55.54" width="660" height="515" class="alignnone size-large wp-image-343" />][2]

 [1]: https://github.com/atom/electron/blob/master/docs/tutorial/quick-start.md
 [2]: /images/2015/04/b26e2b79cc2e1e669a3abf02127fc96f.png
