---
title: BootcampとMBRパーティション地獄
author: kenev
layout: post
permalink: /2013/08/05/bootcamp%e3%81%a8mbr%e3%83%91%e3%83%bc%e3%83%86%e3%82%a3%e3%82%b7%e3%83%a7%e3%83%b3%e5%9c%b0%e7%8d%84/
categories:
  - Windows
tags:
  - bootcamp
  - mbr
  - partition
---
Macbook Air Mid 2011モデルでVMWare Fusion + Windows8を動かしていたのですが、ファンが常に全回で寿命が縮まるんじゃないかという懸念があったため、Bootcampに移行することしました。そのときにいつも通り苦戦したので備忘録も兼ねてその体験を書きます。

私がとりたかった方法としてはIODataの外付けDVDドライブ(<a href="http://www.iodata.jp/prod/storage/dvd/2006/dvrp-un8pl/" target="_blank">DVRP-UN8PL</a>)があったので、USB媒体をわざわざ作らずにインストールしたかったのです。

Bootcampアシスタントを開いて３つ選択肢があるうちの一番下のチェックボックス（Windows7またはそれ以降のバージョンをインストールみたいなやつ)をチェックして次へ進みます。

パーティション分割割合を決める画面が出るので、ここで「32GB」割り当てる。（本当はもっと割り当てたいのだけど128GB SSDモデルなのであまり空きがない。。。）

フォーマットが完了すると再起動が始まります。

ちなみにDVDからインストールする人はきっとこのとき「cキー」を押しておかないと

No bootable device &#8212; insert boot disk and press any key

[<img class="alignnone size-medium wp-image-66" alt="o0448003712636376084" src="/images/2014/01/o0448003712636376084-300x24.png" width="300" height="24" />][1]

と表示されて何も進みません。

起動後に「cキー」を押し続けていればWindows8のロゴが登場。  
少しここで喜びます。

[<img class="alignnone size-medium wp-image-67" alt="o0532035912636775595" src="/images/2014/01/o0532035912636775595-300x202.png" width="300" height="202" />][2]

後は「次へ」を適当に連打しておけばインストール完了！

**<span style="font-size: large;">と思ったら大間違い。</span>**

ここからハマりまくりました。

何が問題かと言いますと、Bootcamp用に切ったパーティションが  
インストール用のパーティションとして選択できないのです。  
選択しようとしても「次へ」がクリックできず、ビックリマークが出ていて

<span style="color: #999999;"><em>このディスクにwindowsをインストールできません。選択されたディスクには、MBRパーティションテーブルがあります。EFIシステムでは、GPTディスクのみにWindowsをインストールできます。<br /> このハードディスク領域にWindwosをインストールすることはできません。</em></span>

というメッセージが表示されるんです。  
「フォーマット」をしても無駄。

<a href="http://matome.naver.jp/odai/2136710326192743801" target="_blank">こちら</a>にも書いてありますが、「Shift + F10」を入力してコマンドプロンプトを出してきて「diskpart」しても無駄です。

**<span style="color: #ff0000;">何も変わらないどころかヘタすると意図しないパーティションをフォーマットしかねないのでやらない方が吉です。（症状にもよると思いますが。。。）</span>**

この現象が何度やり直しても全く解決せず、お手上げ状態になったところで

**<span style="font-size: large;">ようやく8GBのUSBを購入しました。最初からこうすればよかったんです、きっと。今時1000円あれば充分に8GBのUSB買えるんですね。</span>**

私のIODataの外付けDVDドライブが対応していなかったのかなんなのかよくわからないのですが、USBにWindows8のインストール媒体を設定(BootCampアシスタントで可能)してインストール作業を行ったら何もひっかからずに普通にWindows8インストールできました。

ただ、Bootcampアシスタントの「最新のWindowsサポートソフトウェアをAppleからダウンロード」が時間がかかっているのかわからないのですが、

*<span style="color: #ff0000;"><span style="font-size: x-large;">USBへのインストール作業は１時間以上かかりました。もはやプログレスバーが進んでいるのかどうかわからないくらい遅いです。</span></span>*

無駄に色々と苦労してしまいましたがとりあえずWindows8のインストールは完了。ここにVisual Studio2012とResharper、DotCoverをインストールした時点で

**<span style="font-size: large;">残り容量が3GB。</span>**

詰んでる雰囲気マックスですが、まぁなんとかこれでちょっとした開発作業を出先でできるようになりそうです。

PS  
VMWare FusionからBootcampにWindows8を移したことで別のパソコンとして認識されて、ライセンス認証に失敗しました。電話オペレーターに連絡して63桁(?)くらいの数字を入力してから事情を説明したら、オンライン認証番号を教えてもらえました。おかげで一応現段階では課題はすべてクリア。

 [1]: /images/2014/01/o0448003712636376084.png
 [2]: /images/2014/01/o0532035912636775595.png
